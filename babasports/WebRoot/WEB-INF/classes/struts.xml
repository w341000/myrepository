<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>


	<!-- 配置action由spring负责创建 -->
   	<constant name="struts.objectFactory" value="spring" />
   	<!-- 使用简单模板 -->
   	<constant name="struts.ui.theme" value="simple" />
   	<!-- 定义默认包,提供配置 -->
   	<package name="custom-default" extends="struts-default">  
        <!-- 继承默认的 struts2 配置文件 -->  
        <!-- 定义全局Result -->  
        <global-results>
			<result name="error">/errors/error.jsp</result>
			<result name="message" >/WEB-INF/page/share/message.jsp</result>
			<result name="input">/errors/error.jsp</result>
		</global-results>
    </package>
   	<!-- 自定义控制默认包,使用了权限检查拦截器 -->
   	<package name="control-default" extends="custom-default">  
        <!-- 继承默认的 struts2 配置文件 -->  
        <interceptors>  
            <interceptor name="checkprivilege"  
                class="web.action.privilege.PrivilegeInterceptor" />  
            <interceptor-stack name="checkprivilegeStack">  
                <interceptor-ref name="checkprivilege"></interceptor-ref>  
                <interceptor-ref name="defaultStack"></interceptor-ref>  
            </interceptor-stack>  
        </interceptors>  
        <!-- 设置全局 全局默认的拦截器栈-->  
        <default-interceptor-ref name="checkprivilegeStack"></default-interceptor-ref>
    </package>  
    <!-- 其他包 -->
	<include file="conf/*" />
</struts>    
